
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invest in Birzeit</title>
    
    <!-- ุฅุถุงูุฉ ููุชุจุฉ Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
    <!-- ุฅุถุงูุฉ Bootstrap CSS ูุชุญุณูู ุชุตููู ูุงุฌูุฉ ุงููุณุชุฎุฏู -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    
    <style>
        /* ุชุฎุตูุต ุฎุฑูุทุฉ Leaflet */
        #map {
            height: 100vh; /* ุฎุฑูุทุฉ ุชุบุทู ุงูุดุงุดุฉ ุจุงููุงูู */
        }

        /* ุชุตููู ุงูููุงุชุฑ ุจุดูู ุฌุฐุงุจ */
        .filter-container {
            position: absolute;
            top: 10%;
            left: 2%;
            z-index: 999;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .filter-container label, .filter-container select, .filter-container input {
            margin-bottom: 10px;
            display: block;
        }

        .welcome-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            text-align: center;
            z-index: 9999;
            display: none;
        }

        .icon-button {
            width: 200px;
            height: 60px;
            font-size: 18px;
            margin: 10px;
        }

        .result-container {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: none;
        }

    </style>
</head>
<body>

    <!-- ูุงูุฐุฉ ุงูุชุฑุญูุจ ุจุงููุณุชุฎุฏู -->
    <div class="welcome-container" id="welcome-container">
        <h3>ูุฑุญุจูุง ูู ูููุน Invest in Birzeit!</h3>
        <p>ูู ูุฐุง ุงููููุนุ ููููู ุดุฑุงุก ุฃู ุจูุน ุฃุฑุงุถู ูู ุจูุฑุฒูุช. ุงุฎุชุฑ ุงูุฎูุงุฑ ุงูููุงุณุจ ุฃุฏูุงู ููุจุฏุก.</p>
        <button class="btn btn-primary icon-button" id="buy-land-button">ุดุฑุงุก ุฃุฑุถ ูู ุจูุฑุฒูุช</button>
        <button class="btn btn-success icon-button" id="sell-land-button">ุจูุน ุฃุฑุถ ูู ุจูุฑุฒูุช</button>
    </div>

    <!-- ูุญุชูู ุงูุฎุฑูุทุฉ -->
    <div id="map"></div>

    <!-- ุงูููุงุชุฑ ุงููุชูุฏูุฉ -->
    <div class="filter-container" id="filter-container">
        <h5>ููุชุฑุฉ ุงูุฃุฑุงุถู</h5>
        
        <!-- ุงููุณุงูุฉ ูู ุงููุฏุงุฑุณ -->
        <label for="schoolDistance">ุงููุณุงูุฉ ูู ุงููุฏุฑุณุฉ (ูุชุฑ): </label>
        <input type="range" id="schoolDistance" min="100" max="800" value="400">
        <span id="schoolDistanceValue">400 ูุชุฑ</span>

        <!-- ุงููุณุงูุฉ ูู ุงูุฎุฏูุงุช -->
        <label for="serviceDistance">ุงููุณุงูุฉ ูู ุงูุฎุฏูุฉ (ูุชุฑ): </label>
        <input type="range" id="serviceDistance" min="0" max="100" value="50">
        <span id="serviceDistanceValue">50 ูุชุฑ</span>

        <!-- ููุน ุงูุฎุฏูุฉ -->
        <label for="serviceType">ููุน ุงูุฎุฏูุฉ: </label>
        <select id="serviceType">
            <option value="restaurant">ูุทุนู</option>
            <option value="hospital">ูุณุชุดูู</option>
            <option value="fuelStation">ูุญุทุฉ ูููุฏ</option>
            <option value="pharmacy">ุตูุฏููุฉ</option>
            <option value="mosque">ูุณุฌุฏ</option>
            <option value="church">ูููุณุฉ</option>
            <option value="gym">ุตุงูุฉ ุฑูุงุถูุฉ</option>
        </select>

        <!-- ููุน ุงูุฃุฑุงุถู ุงูุฒุฑุงุนูุฉ -->
        <label for="agricultureType">ููุน ุงูุฃุฑุถ ุงูุฒุฑุงุนูุฉ: </label>
        <select id="agricultureType">
            <option value="medium">ุฃุฑุถ ูุชูุณุทุฉ ุงููููุฉ ุงูุฒุฑุงุนูุฉ</option>
            <option value="low">ุฃุฑุถ ููุฎูุถุฉ ุงููููุฉ ุงูุฒุฑุงุนูุฉ</option>
        </select>

        <!-- ููุน ุงูุดุงุฑุน -->
        <label for="roadType">ููุน ุงูุดุงุฑุน: </label>
        <select id="roadType">
            <option value="main">ุดุงุฑุน ุฑุฆูุณู</option>
            <option value="secondary">ุดุงุฑุน ูุฑุนู</option>
        </select>

        <!-- ุงูููุงุตูุงุช -->
        <label for="transportation">ุงูููุงุตูุงุช: </label>
        <select id="transportation">
            <option value="near">ูุฑูุจุฉ</option>
            <option value="far">ุจุนูุฏุฉ</option>
        </select>

        <!-- ุงูููุงูุงุช -->
        <label for="wasteDistance">ุงููุณุงูุฉ ูู ููุจุงุช ุงูููุงูุงุช (ูุชุฑ): </label>
        <input type="range" id="wasteDistance" min="300" max="700" value="500">
        <span id="wasteDistanceValue">500 ูุชุฑ</span>

        <!-- ุฒุฑ ุชุทุจูู ุงูููุงุชุฑ -->
        <button class="btn btn-primary" id="applyFilters">ุชุทุจูู ุงูููุงุชุฑ</button>
    </div>

    <!-- ูุงูุฐุฉ ูุชุงุฆุฌ ุงูุฃุฑุถ ุงููุทุงุจูุฉ -->
    <div class="result-container" id="result-container">
        <h5>ูุนูููุงุช ุงูุฃุฑุถ ุงููุทุงุจูุฉ:</h5>
        <p><strong>ุฑูู ุงููุทุนุฉ:</strong> <span id="landNumber">XXX</span></p>
        <p><strong>ุงููุงูู:</strong> <span id="ownerName">ุฃุญูุฏ ูุญูุฏ</span></p>
        <p><strong>ุงูุณุนุฑ:</strong> <span id="landPrice">โช 0</span></p>
        <p><strong>ุฑูู ุงููุงุชู:</strong> <span id="ownerPhone">0598XXXXXX</span></p>
        <button class="btn btn-success" id="backToFilters">ุงูุฑุฌูุน ุฅูู ุงูููุงุชุฑ</button>
    </div>

    <!-- ุชุญููู ููุชุจุงุช JavaScript -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-ajax"></script>

    <script>
        // ุฅุนุฏุงุฏ ุงูุฎุฑูุทุฉ
        const map = L.map('map').setView([31.9416, 35.1975], 13); // ุฅุญุฏุงุซูุงุช ุจูุฑุฒูุช

        // ุฅุถุงูุฉ ุทุจูุฉ ุงูุฎุฑูุทุฉ ุงูุฃุณุงุณูุฉ
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // ุนุฑุถ ูุงูุฐุฉ ุงูุชุฑุญูุจ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        $(document).ready(function() {
            $('#welcome-container').fadeIn();
        });

        // ุฅุบูุงู ูุงูุฐุฉ ุงูุชุฑุญูุจ ุนูุฏ ุงูุถุบุท ุนูู ุงูุฃุฒุฑุงุฑ
        $('#buy-land-button').on('click', function() {
            $('#welcome-container').fadeOut();
        });

        $('#sell-land-button').on('click', function() {
            $('#welcome-container').fadeOut();
        });

        // ุชุญููู ุงูุจูุงูุงุช ูู GeoJSON ูุฅุถุงูุชูุง ูุทุจูุงุช
        const loadGeoJSON = (url, options = {}) => {
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const layer = L.geoJSON(data, options).addTo(map);
                    if (options.name) {
                        L.control.layers(null, { [options.name]: layer }).addTo(map);
                    }
                })
                .catch(error => console.error(`Error loading ${url}:`, error));
        };

        // 1. ุทุจูุฉ ุงูุฃุฑุงุถู
        loadGeoJSON('https://raghadakare.github.io/Birziet_Parcels.json', {
            style: {
                color: "black",
                fillColor: "beige",
                fillOpacity: 0.7
            },
            onEachFeature: (feature, layer) => {
                layer.bindPopup(`
                    <strong>ุฑูู ุงููุทุนุฉ:</strong> ${feature.properties.ParcelNumb}<br>
                    <strong>ุงููุณุงุญุฉ:</strong> ${feature.properties.Shape_Area} ูยฒ<br>
                    <strong>ุงูุณุนุฑ:</strong> โช${feature.properties.price}
                `);
            },
            name: 'ุงูุฃุฑุงุถู'
        });

        // 2. ุทุจูุฉ ุงููุฏุงุฑุณ
        loadGeoJSON('https://raghadakare.github.io/Birziet_Schools.json', {
            pointToLayer: (feature, latlng) => L.marker(latlng, { icon: L.divIcon({ html: "๐ซ", iconSize: [20, 20] }) }),
            onEachFeature: (feature, layer) => {
                layer.bindPopup(`<strong>ุงููุฏุฑุณุฉ:</strong> ${feature.properties.SchoolNa_1}`);
            },
            name: 'ุงููุฏุงุฑุณ'
        });

        // 3. ุทุจูุฉ ุงูุทุฑู
        loadGeoJSON('https://raghadakare.github.io/Birziet_Roads.json', {
            style: {
                color: "gray",
                weight: 2
            },
            name: 'ุงูุทุฑู'
        });

        // 4. ุทุจูุฉ ุงูุฎุฏูุงุช
        loadGeoJSON('https://raghadakare.github.io/Birziet_Facilities.json', {
            pointToLayer: (feature, latlng) => L.circleMarker(latlng, {
                radius: 5,
                fillColor: "green",
                color: "#000",
                weight: 1,
                fillOpacity: 0.8
            }),
            onEachFeature: (feature, layer) => {
                layer.bindPopup(`
                    <strong>ุงูุฎุฏูุฉ:</strong> ${feature.properties.Facility_E}<br>
                    <strong>ุงูุชุตููู:</strong> ${feature.properties.Category_E}
                `);
            },
            name: 'ุงูุฎุฏูุงุช'
        });

        // 5. ุทุจูุฉ ุงูููุจุงุช
        loadGeoJSON('https://raghadakare.github.io/Birziet_Dumping.json', {
            pointToLayer: (feature, latlng) => L.circleMarker(latlng, {
                radius: 5,
                fillColor: "red",
                color: "#000",
                weight: 1,
                fillOpacity: 0.8
            }),
            onEachFeature: (feature, layer) => {
                layer.bindPopup(`<strong>ุงูููุจ:</strong> ${feature.properties.SiteName_E}`);
            },
            name: 'ุงูููุจุงุช'
        });

        // 6. ุทุจูุฉ ุงููููุฉ ุงูุฒุฑุงุนูุฉ
        loadGeoJSON('https://raghadakare.github.io/Birziet_Agri.json', {
            style: {
                color: "yellow",
                fillColor: "#ffff99",
                fillOpacity: 0.6
            },
            name: 'ุงููููุฉ ุงูุฒุฑุงุนูุฉ'
        });

        // 7. ุทุจูุฉ ุชุตูููุงุช ุงูุฃุฑุงุถู
        loadGeoJSON('https://raghadakare.github.io/Birziet_ABC.json', {
            style: {
                color: "orange",
                fillColor: "#ffcc00",
                fillOpacity: 0.6
            },
            onEachFeature: (feature, layer) => {
                layer.bindPopup(`<strong>ุชุตููู ุงูุฃุฑุถ:</strong> ${feature.properties.Type}`);
            },
            name: 'ุชุตูููุงุช ุงูุฃุฑุงุถู'
        });

    </script>
</body>
</html>
