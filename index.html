<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invest in Birzeit</title>
    
    <!-- إضافة مكتبة Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
    <!-- إضافة Bootstrap CSS لتحسين تصميم واجهة المستخدم -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    
    <style>
        /* تخصيص خريطة Leaflet */
        #map {
            height: 100vh; /* خريطة تغطي الشاشة بالكامل */
        }

        /* تصميم الفلاتر بشكل جذاب */
        .filter-container {
            position: absolute;
            top: 10%;
            left: 2%;
            z-index: 999;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .filter-container label, .filter-container select, .filter-container input {
            margin-bottom: 10px;
            display: block;
        }

        .welcome-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            text-align: center;
            z-index: 9999;
            display: block;
        }

        .icon-button {
            width: 200px;
            height: 60px;
            font-size: 18px;
            margin: 10px;
            background-color: green;
            color: white;
            border: none;
            border-radius: 5px;
        }

        .result-container {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: none;
        }

        .contact-container {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .sell-container {
            display: none;
            text-align: center;
            padding: 20px;
        }

    </style>
</head>
<body>

    <!-- نافذة الترحيب بالمستخدم -->
    <div class="welcome-container" id="welcome-container">
        <h3>مرحبًا في موقع Invest in Birzeit!</h3>
        <p>Invest In Birzeit هو موقع إلكتروني متخصص في بيع الأراضي عالية الجودة في منطقة بيرزيت، وهي إحدى المناطق الفلسطينية ذات الأهمية التاريخية والجغرافية. يهدف الموقع إلى توفير أفضل الخيارات لشراء الأراضي السكنية والزراعية والتجارية في بيرزيت والمناطق المجاورة، مع التركيز على الأراضي ذات المواقع الاستراتيجية والمزايا الفريدة.</p>
        <p>في هذا الموقع، يمكنك شراء أو بيع أراضٍ في بيرزيت. اختر الخيار المناسب أدناه للبدء.</p>
        
        <!-- الأزرار التي تنقل إلى الخيارات المختلفة -->
        <button class="icon-button" id="buy-land-button">شراء أرض في بيرزيت</button>
        <button class="icon-button" id="sell-land-button">بيع أرض في بيرزيت</button>
        <button class="icon-button" id="contact-us-button">تواصل معنا</button>
    </div>

    <!-- واجهة بيع الأرض -->
    <div class="sell-container" id="sell-container">
        <h3>بيع أرض في بيرزيت</h3>
        <form>
            <label for="landSpecs">مواصفات الأرض:</label>
            <textarea id="landSpecs" rows="4" cols="50" placeholder="أدخل مواصفات الأرض هنا..."></textarea><br>

            <label for="expectedPrice">السعر المتوقع للبيع:</label>
            <input type="number" id="expectedPrice" placeholder="أدخل السعر المتوقع"><br>

            <label for="ownerName">اسم البائع:</label>
            <input type="text" id="ownerName" placeholder="أدخل اسمك"><br>

            <label for="ownerPhone">رقم الهاتف:</label>
            <input type="text" id="ownerPhone" placeholder="أدخل رقم هاتفك"><br>

            <button type="submit" class="icon-button">إرسال</button>
        </form>
    </div>

    <!-- واجهة تواصل معنا -->
    <div class="contact-container" id="contact-container">
        <h3>تواصل معنا</h3>
        <p>يمكنك التواصل معنا عبر البريد الإلكتروني التالي:</p>
        <p><strong>البريد الإلكتروني:</strong> <a href="mailto:batoolhammad67@gmail.com">batoolhammad67@gmail.com</a></p>
    </div>

    <!-- محتوى الخريطة -->
    <div id="map"></div>

    <!-- الفلاتر المتقدمة -->
    <div class="filter-container" id="filter-container">
        <h5>فلترة الأراضي</h5>
        
        <!-- المسافة من المدارس -->
        <label for="schoolDistance">المسافة من المدرسة (متر): </label>
        <input type="range" id="schoolDistance" min="100" max="800" value="400">
        <span id="schoolDistanceValue">400 متر</span>

        <!-- المسافة من الخدمات -->
        <label for="serviceDistance">المسافة من الخدمة (متر): </label>
        <input type="range" id="serviceDistance" min="0" max="100" value="50">
        <span id="serviceDistanceValue">50 متر</span>

        <!-- نوع الخدمة -->
        <label for="serviceType">نوع الخدمة: </label>
        <select id="serviceType">
            <option value="restaurant">مطعم</option>
            <option value="hospital">مستشفى</option>
            <option value="fuelStation">محطة وقود</option>
            <option value="pharmacy">صيدلية</option>
            <option value="mosque">مسجد</option>
            <option value="church">كنيسة</option>
            <option value="gym">صالة رياضية</option>
        </select>

        <!-- نوع الأراضي الزراعية -->
        <label for="agricultureType">نوع الأرض الزراعية: </label>
        <select id="agricultureType">
            <option value="medium">أرض متوسطة القيمة الزراعية</option>
            <option value="low">أرض منخفضة القيمة الزراعية</option>
        </select>

        <!-- نوع الشارع -->
        <label for="roadType">نوع الشارع: </label>
        <select id="roadType">
            <option value="main">شارع رئيسي</option>
            <option value="secondary">شارع فرعي</option>
        </select>

        <!-- المواصلات -->
        <label for="transportation">المواصلات: </label>
        <select id="transportation">
            <option value="near">قريبة</option>
            <option value="far">بعيدة</option>
        </select>

        <!-- النفايات -->
        <label for="wasteDistance">المسافة من مكبات النفايات (متر): </label>
        <input type="range" id="wasteDistance" min="300" max="700" value="500">
        <span id="wasteDistanceValue">500 متر</span>

        <!-- زر تطبيق الفلاتر -->
        <button class="btn btn-primary" id="applyFilters">تطبيق الفلاتر</button>
    </div>

    <!-- تحميل مكتبات JavaScript -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-ajax"></script>

    <script>
        // إعداد الخريطة
        const map = L.map('map').setView([31.9416, 35.1975], 13); // إحداثيات بيرزيت

        // إضافة طبقة الخريطة
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // إخفاء خريطة عند البداية
        $('#map').hide();

        // عرض الخريطة عند النقر على شراء أرض
        $('#buy-land-button').on('click', function() {
            $('#welcome-container').fadeOut();
            $('#map').fadeIn();
        });

        // عرض واجهة بيع الأرض
        $('#sell-land-button').on('click', function() {
            $('#welcome-container').fadeOut();
            $('#sell-container').fadeIn();
        });

        // عرض واجهة تواصل معنا
        $('#contact-us-button').on('click', function() {
            $('#welcome-container').fadeOut();
            $('#contact-container').fadeIn();
        });

        // تحميل البيانات من GeoJSON وإضافتها كطبقات
        const loadGeoJSON = (url, options = {}) => {
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const layer = L.geoJSON(data, options).addTo(map);
                    if (options.name) {
                        L.control.layers(null, { [options.name]: layer }).addTo(map);
                    }
                })
                .catch(error => console.error(`Error loading ${url}:`, error));
        };

        // تحميل بيانات الأراضي من GeoJSON
        loadGeoJSON('https://raghadakare.github.io/Birziet_Parcels.json', {
            style: {
                color: "black",
                fillColor: "beige",
                fillOpacity: 0.7
            },
            onEachFeature: (feature, layer) => {
                layer.bindPopup(`
                    <strong>رقم القطعة:</strong> ${feature.properties.ParcelNumb}<br>
                    <strong>المساحة:</strong> ${feature.properties.Shape_Area} م²<br>
                    <strong>السعر:</strong> ₪${feature.properties.price}
                `);
            },
            name: 'الأراضي'
        });

    </script>
</body>
</html>
